\chapter{Continuous functions}

% ==================================================================================================

\section{Accumulation point}
\begin{definition}[Neighbourhood]
  A set $A \subseteq \R$ is a neighbourhood of a point $a$, if there exists an open interval $I$ such that
  \[
    a \in I \subseteq A
  \]
\end{definition}
Note that an interval is a set.
\begin{definition}[Accumulation point]
  A real number $\zeta$ is an accumulation point of a set $A \in \R$ if every neighbourhood of $\zeta$ contains an infinite number of elements in $A$.
\end{definition}
Note that $\zeta$ does not have to be an element of $A$.
\begin{itemize}
  \item $\Z$ has no accumulation point since there exist a neighbourhood which does not contain an infinite number of members of $\Z$. For every $x \in \Z$, consider the neighbourhood
    \begin{align*}
      (x - \frac{1}{2},\; x + \frac{1}{2})
    \end{align*}
    which contains no members of $\Z$ other than $x$.
  \item Every point $x \in \R$ is an accumulation point, since all neighbourhoods of $x$ contain an infinite number of members of $\R$.
  \item Similarly, every rational number $x \in Q$ is an accumulation point of $\Q$. Every irrational number is also an accumulation point of $\Q$. So every real number is an accumulation point of $\Q$.
  \item The set
    \begin{align*}
      \{ \frac{1}{n}: n \in \N^+ \}
    \end{align*} has only one accumulation point, 0, which is not in the set. 0 is an accumulation point because every neighbourhood of 0 must have no upper bound, so something in the form of 
    \begin{align*}
      (n, \infty)
    \end{align*}
    which contains an infinite number of members of the set.
  \item Every point in the closed interval $[a, b]$ is an accumulation point of $[a, b]$ (intervals are sets). Every point outside the closed interval is not an accumulation point of $[a, b]$, since there must exist a neighbourhood of the point which lies entirely outside of the interval, and therefore contains no elements of the interval (so does not contain an infinite number of elements in the interval).
  \item Every point in the open interval $(a, b)$ is an accumulation point of $(a, b)$. The endpoints, $a$ and $b$, are also accumulation points.
\end{itemize}

% ==================================================================================================

\section{$\epsilon - \delta$ definition of limit of a function}
Basically the most important thing in this chapter:
\begin{definition}[$\epsilon - \delta$ definition of limit of a function]
  A function $f: A \to \R$, where $A \subseteq \R$, has a limit $l \in \R$ at the accumulation point $x_0$ of A if and only if
  \[
    \forall \epsilon > 0, \; \exists \delta > 0: \abs{x - x_0} < \delta \implies \abs{f(x) - l} < \epsilon
  \]
\end{definition}
We denote this as
\[
  \lim_{x \to x_0} f(x) = l
\]
An intuitive translation of the definition reads whenever the input is sufficiently close to the target input, then the output must be within the specified range of the limit.
\begin{eg}
  Prove that 
  \[
    \lim_{x \to 2} x ^ 2 + x - 2 = 4
  \]
\end{eg}
\begin{solution}
  Let $f(x) = x ^ 2 + x - 2$. Given some $\epsilon > 0$, we want to find some $\delta > 0$ such that
  \[
    \abs{x - 2} < \delta \implies \abs{f(x) - 4} < \epsilon.
  \]
  \begin{align*}
    \abs{f(x) - 4} < \epsilon &\iff \abs{(x ^ 2 + x - 2) - 4} < \epsilon \\
    &\iff \abs{x ^ 2 + x - 6} < \epsilon \\ 
    &\iff \abs{(x + 3)(x - 2)} < \epsilon \\
    &\iff \abs{x - 2} < \frac{\epsilon}{\abs{x + 3}}
  \end{align*}
  Suppose, arbitrarily, we let $\abs{x - 2} < 1$. Then $\abs{x + 3} \leq \abs{x - 2} + 5 < 6$. We want the above inequality to be true as well, so we have
  \[
    \abs{x - 2} < \frac{\epsilon}{\abs{x + 3}} < \frac{\epsilon}{6}
  \]
  Now, we have two constraints that we want to both satisfy:
  \[
    \abs{x - 2} < 1 \ \text{and} \ \abs{x - 2} < \frac{\epsilon}{6}
  \]
  so we choose $\delta = \min(1, \frac{\epsilon}{6})$ and both will be satisfied.

  \textbf{The actual proof.} Choose $\delta = \min(1, \frac{\epsilon}{6})$. Then $\delta \leq 1$ and $\delta \leq \frac{\epsilon}{6}$. Suppose $\abs{x - 2} < \delta$. Then we have
  \[
    \abs{x - 2} < 1 \implies \abs{x + 3} < 6
  \]
  and
  \[
    \abs{x - 2} < \frac{\epsilon}{6}
  \]
  \begin{align*}
    \abs{x ^ 2 + x - 6} &= \abs{(x - 2)(x + 3)} \\
    &= \abs{x - 2} \abs{x + 3} \\ 
    &< \frac{\epsilon}{6} \abs{x + 3} \\ 
    &< \frac{\epsilon}{6} \cdot 6 \\ 
    &= \epsilon
  \end{align*}
  which completes the proof.
\end{solution}
\begin{eg}
  (MMT 1.5, Q1) Prove that
  \[
    \lim_{x \to 0} \frac{1}{x}
  \]
  does not exist.
\end{eg}
\begin{solution}
  Suppose the limit $= l \in \R$. Then either $l > 0$, $l < 0$, or $l = 0$.

  \textbf{l > 0.} Suppose $\epsilon = l$. There exists $\delta > 0$ such that
  \[
    \abs{x} < \delta \implies \abs{\frac{1}{x} - l} < l
  \] 
  Choose $\delta < x < 0$. Clearly the LHS of the implication is true. But
  \[
    \abs{\frac{1}{x} - l} < l \iff 0 < \frac{1}{x} < 2l
  \]
  so the RHS is false, and so the implication is false, contradiction.

  \textbf{l < 0.} Suppose $\epsilon = -l$ (since $\epsilon > 0$). There exists $\delta > 0$ such that
  \[
    \abs{x} < \delta \implies \abs{\frac{1}{x} - l} < -l
  \]
  Choose $0 < x < \delta$. Clearly the LHS of the implication is true. But
  \[
    \abs{\frac{1}{x} - l} < -l \iff 2l < \frac{1}{x} < 0
  \]
  so the RHS is false, and so the implication is false, contradiction.

  \textbf{l = 0.} Suppose $\epsilon = 1$. There exists $\delta > 0$ such that 
  \[
    \abs{x} < \delta \implies \abs{\frac{1}{x}} < 1
  \]
  Choose $0 < x < \min(\delta, 1)$. The LHS of the implication is true. But
  \[
    \abs{x} < 1 \iff \abs{\frac{1}{x}} > 1
  \]
  so the RHS is false, and so the implication is false, contradiction.

  In all three cases, we reach a contradiction. So the limit does not exist.
\end{solution}

% --------------------------------------------------------------------------------------------------

\subsection{Definitions for alternative use cases}
Here, we present a few definitions for some common use cases:
\begin{definition}
  \[
    \lim_{x \to \infty} f(x) = l
  \]
  if and only if
  \[
    \forall \epsilon > 0, \; \exists c \in \R: \forall x > c, \; \abs{f(x) - l} < \epsilon
  \]
\end{definition}
\begin{definition}
  \[
    \lim_{x \to -\infty} f(x) = l
  \]
  if and only if
  \[
    \forall \epsilon > 0, \; \exists c \in \R: \forall x < c, \; \abs{f(x) - l} < \epsilon
  \]
\end{definition}
\begin{definition}
  \[
    \lim_{x \to x_0} f(x) = \infty
  \]
  if and only if
  \[
    \forall r > 0, \; \exists \delta > 0: \abs{x - x_0} < \delta \implies f(x) > r
  \]
\end{definition}
\begin{definition}
  \[
    \lim_{x \to \infty} f(x) = \infty
  \]
  if and only if
  \[
    \forall r > 0, \; \exists c \in \R: x > c \implies f(x) > r
  \]
\end{definition}

% ==================================================================================================

\section{Continuity}
\begin{definition}
  A function $f$ is continuous at $x_0$ if
  \[
    \lim_{x \to x_0} f(x) = f(x_0)
  \]
\end{definition}
\begin{definition}
  A function $f$ is continuous on the interval $[a, b]$ if it is continuous at all $x_0 \in [a, b]$.
\end{definition}
\begin{eg}
  Let $f$ be defined by
  \[
    f(x) =
    \begin{cases}
      x \sin \frac{1}{x}, & x \neq 0 \\
      0, & x = 0
    \end{cases}
  \]
  Prove that $f$ is continuous at 0.
\end{eg}
\begin{proof}
  We want to show that
  \[
    \lim_{x \to 0} f(x) = f(0) = 0
  \]
  \begin{align*}
    \abs{x \sin \frac{1}{x} - 0} < \epsilon &\iff \abs{x \sin \frac{1}{x}} < \epsilon \\
    &\iff \abs{x} \abs{\sin \frac{1}{x}} < \epsilon \\ 
    &\iff \abs{x} < \frac{\epsilon}{\abs{\sin \frac{1}{x}}} \leq \frac{\epsilon}{1} = \epsilon
  \end{align*}
  Let $\delta = \epsilon$. Then 
  \begin{align*}
    \abs{x} < \delta &\implies \abs{x} < \epsilon \\ 
    &\implies \abs{x} \abs{\sin \frac{1}{x}} < \epsilon \cdot \abs{\sin \frac{1}{x}} < \epsilon \\ 
    &\implies \abs{x \sin \frac{1}{x}} < \epsilon
  \end{align*}
\end{proof}
\begin{eg}
  Consider the sign function $sgn: \R \to \R$ defined by
  \[
    sgn(x) = 
    \begin{cases}
      -1, & x < 0 \\ 
      0, & x = 0 \\ 
      1, & x > 0
    \end{cases}
  \]
  Prove that $sgn$ is continuous at all points except 0.
\end{eg}
\begin{proof}
  Take arbitrary $x_0 < 0$. Take arbitrary $\epsilon > 0$. For this $\epsilon$, we want to find some $\delta > 0$ such that for all $x \in \R$,
  \[
    \abs{x - x_0} < \delta \implies \abs{f(x) - f(x_0)} < \epsilon
  \]
  \begin{intuition}
    When we have $x_0 < 0$, we want to make sure the $x$ that we can choose are close enough to $x_0$ such that $x < 0$, then both $f(x)$ and $f(x_0)$ evaluate to $-1$.
  \end{intuition}
  Let $\delta = \frac{\abs{x_0}}{2}$. Suppose $\abs{x - x_0} < \delta$ (because that's how we prove implications -- we assume the antecedent is true, then proceed to show that the consequent is true as well). Then we have 
  \begin{align*}
    -\frac{\abs{x_0}}{2} < x - x_0 < \frac{\abs{x_0}}{2} \\ 
    \iff x_0 - \frac{\abs{x_0}}{2} < x < x_0 + \frac{\abs{x_0}}{2}
  \end{align*}
  We focus on the upper inequality.
  \begin{align*}
    x &< x_0 + \frac{\abs{x_0}}{2} \\ 
    &= x_0 - \frac{x_0}{2} \ \text{since} \ x_0 < 0 \\
    &= \frac{x_0}{2} \\ 
    &< 0
  \end{align*}
  so $f(x) = -1$. Then
  \[
    \abs{f(x) - f(x_0)} = \abs{-1 - (-1)} = 0 < \epsilon
  \]
  Since $\epsilon > 0$ arbitrary, $f$ is continuous at $x_0$.
  Since $x_0 < 0$ arbitrary, $f$ is continuous at all $x_0 < 0$.

  The case where $x_0 > 0$ follows similarly (but is still included here for completeness). Take arbitrary $x_0 > 0$. Take arbitrary $\epsilon > 0$. Let $\delta = \frac{\abs{x_0}}{2}$. Suppose $\abs{x - x_0} < \delta$. Then we have 
  \begin{align*}
    -\frac{\abs{x_0}}{2} < x - x_0 < \frac{\abs{x_0}}{2} \\ 
    \iff x_0 - \frac{\abs{x_0}}{2} < x < x_0 + \frac{\abs{x_0}}{2}
  \end{align*}
  We focus on the lower inequality.
  \begin{align*}
    x &> x_0 - \frac{\abs{x_0}}{2} \\ 
    &= x_0 - \frac{x_0}{2} \ \text{since} \ x_0 > 0 \\ 
    &= \frac{x_0}{2} \\ 
    &> 0
  \end{align*}
  so $f(x) = 1$. Then
  \[
    \abs{f(x) - f(x_0)} = \abs{1 - 1} = 0 < \epsilon
  \]
  Since $\epsilon > 0$ arbitrary, $f$ is continuous at $x_0$.
  Since $x_0 > 0$ arbitrary, $f$ is continuous at all $x_0 > 0$.

  Let $x_0 = 0$. Since we want to show that $sgn$ is not continuous at $0$, we want to show
  \[
    \exists \epsilon > 0: \forall \delta > 0, \; \exists x \in \R: \abs{x - 0} < \delta \land \abs{f(x) - f(0)} \geq \epsilon
  \]
  \begin{intuition}
    We know that all the points around $0$ either evaluate to $-1$ or $1$, so they are of distance $1$ away from $f(0) = 0$. We can find points that are infinitesmally close to $0$ (i.e. satisfy $\abs{x - x_0} < \delta$), but are still of distance $1$ away from $f(0)$. So we pick some $\epsilon < 1$, then the distance must be greater than $\epsilon$.
  \end{intuition}
  \begin{remark}
    It doesn't really matter if we use \textit{take arbitrary} or \textit{let} to show \textit{for all}, but things can get messy if we want to show \textit{there exists} and \textit{for all} at the same time, so it's best to distinguish them. Also, we can't use \textit{take arbitrary} to show \textit{there exists}.
  \end{remark}
  Let $\epsilon = \frac{1}{2}$ (existence). Take arbitrary $\delta > 0$ (for all). Let $x = \frac{\delta}{2}$ (existence). Then
  \begin{align*}
    \abs{x} &= \abs{\frac{\delta}{2}} \\
    &= \frac{\delta}{2} \ \text{since} \ \delta > 0 \\
    &< \delta
  \end{align*}
  Since $x = \frac{\delta}{2}$, we know that $x > 0$, so $f(x) = 1$. But then
  \[
    \abs{f(x) - f(0)} = \abs{1 - 0} = 1 > \epsilon
  \]
  and we are done.
\end{proof}

% --------------------------------------------------------------------------------------------------

\subsection{Bolzano-Weierstrass theorem}
\begin{definition}[Bolzano-Weierstrass theorem]
  Every bounded sequence has a convergent subsequence.
\end{definition}
We will see how the theorem can be used to prove several properties of continuous functions.
\begin{prop}
  If $f: [a, b] \to \R$ is a continuous function, then there exist $r, s \in [a, b]$ such that
  \begin{align*}
    f(r) &= \sup\{f(x) : x \in [a, b]\} \in \R \\ 
    f(s) &= \inf\{f(x) : x \in [a, b]\} \in \R
  \end{align*}
  In other words, we want to show two things:
  \begin{itemize}
    \item $f$ attains its maximum and minimum in $[a, b]$ in $[a, b]$ (confusing, yes)
    \item The maximum and minimum are finite
  \end{itemize}
\end{prop}
\begin{proof}
  We will only show the first half of both statements, i.e. the parts for maximum. The parts for minimum follow similarly. Let $M = \sup\{f(x) : x \in [a, b]\}$. 
  
  By definition of supremum, for all $n \geq 1$, there exists $x_n$ such that
  \[
    M \geq f(x_n) \geq M - \frac{1}{n}
  \]
  \begin{remark}
    Suppose there exists $n \geq 1$ such that for all $x \in [a, b]$, the inequality does not hold. Then either $f(x_n) > M$ or $f(x_n) < M - \frac{1}{n}$. For the former, this violates the fact that $M$ is the supremum, and hence an upper bound. For the latter, this also violates the fact that $M$ is the supremum, since we now have a smaller upper bound (namely, $M - \frac{1}{n}$) and so $M$ is not the least upper bound.
  \end{remark}
  The sequence $x_n$ is bounded (by $[a, b]$), so by Bolzano-Weierstrass, there exists a convergent subsequence $x_{n_i}$.
  \begin{remark}
    $x_n$ is not necessarily convergent.
  \end{remark}
  Suppose $x_{n_i} \to v_M$. Since $a \leq x_{n_i} \leq b \; \forall i$, we have $v_M \in [a, b]$. By continuity of $f$, we have
  \[
    \lim_{i \to \infty} f(x_{n_i}) = f(v_M)
  \]
  But then $f(x_{n_i})$ is a subsequence of $f(x_n)$, so they converge to the same limit. By sandwich theorem, $f(x_n) \to M$, so also $f(x_{n_i}) \to M$. Therefore,
  \[
    f(v_M) = \lim_{i \to \infty} f(x_{n_i}) = M
  \]

  Suppose $M$ is not finite, i.e. $f$ is not bounded above. Then for all $n \geq 1$, there exists $x_n \in [a, b]$ such that $f(x_n) > n$. Since $x_n$ is taken from $[a, b]$, $x_n$ is bounded. By Bolzano-Weierstrass, there exists a convergent subsequence $x_{n_i}$. 
  
  Suppose $x_{n_i} \to x_0$. Since $a \leq x_{n_i} \leq b$ for all $i$, $x_0 \in [a, b]$, so $f$ is continuous at $x_0$. Therefore, we have
  \[
    \lim_{i \to \infty} f(x_{n_i}) = f(x_0)
  \] 
  which is finite (??????). However, since $f(x_{n_i})$ is a subsequence of $f(x_n)$, they tend to the same limit. Since (the rest of the proof seems wrong.)
\end{proof}

% --------------------------------------------------------------------------------------------------

\subsection{Intermediate value theorem}
\begin{theorem}[Intermediate value theorem]
  Consider a continuous function $f: [a, b] \to \R$. If $s$ is between $f(a)$ and $f(b)$, i.e.
  \[
    \min\{f(a), f(b)\} < s < \max\{f(a), f(b)\}
  \]
  then there exists $c \in (a, b)$ such that $f(c) = s$.
\end{theorem}
\begin{proof}
  Suppose $f(a) < s < f(b)$. The case where $f(b) < s < f(a)$ can be handled similarly.
  Consider the set
  \[
    S = \{x \in [a, b]: f(x) \leq s\}
  \]
  Since $S$ is bounded above and non-empty, it must have a supremum, say $c$.

  (Why must $c \in [a, b]$?)

  Since $c \in [a, b]$, $f$ is continuous at $c$. By continuity, we have
  \[
    \forall \epsilon > 0, \; \exists \delta > 0: \abs{x - c} < \delta \implies \abs{f(x) - f(c)} < \epsilon
  \]
  Take arbitrary $\epsilon > 0$. Since $c$ is the supremum, there must exist some $x_1 \in (c - \delta, c]$ such that $x_1 \in S$. 
  \begin{remark}
    Otherwise, this means that the largest element is some finite distance $\delta$ smaller than $c$, so the supremum would be at most $c - \delta$, but not $c$.
  \end{remark}
  Since $x_1 \in S$, we have $f(x_1) \leq s$. As
  \begin{align*}
    \abs{f(x) - f(c)} < \epsilon &\iff f(c) - \epsilon < f(x) < f(c) + \epsilon \\ 
  \end{align*}
  we get
  \begin{align*}
    &f(c) - \epsilon < f(x_1) < f(c) + \epsilon \\ 
    &\implies f(c) - \epsilon < f(x_1) \leq s \\ 
    &\implies f(c) - \epsilon < s \\ 
    &\implies f(c) < s + \epsilon \numberthis \label{lt}
  \end{align*}
  Since $c$ is the supremum, for all $x \in (c, c + \delta)$, $x \notin S$.
  \begin{remark}
    Otherwise, we have an element greater than $c$, so $c$ is not an upper bound.
  \end{remark}
  But then either $f(x) \leq s$ or $f(x) > s$. So there exists $x_2 \in (c, c + \delta)$ such that $f(x_2) > s$. Then
  \begin{align*}
    &f(c) - \epsilon < f(x_2) < f(c) + \epsilon \\ 
    &\implies s < f(x_2) < f(c) + \epsilon \\ 
    &\implies s < f(c) + \epsilon \\ 
    &\implies s - \epsilon < f(c) \numberthis \label{gt}
  \end{align*}
  Combining \Cref{lt} and \Cref{gt}, we get
  \[
    s - \epsilon < f(c) < s + \epsilon
  \]
  Since $\epsilon > 0$ arbitrary, this is true for all $\epsilon > 0$. So we have $f(c) = s$.
\end{proof} 

% --------------------------------------------------------------------------------------------------

\subsection{Uniform continuity}
\begin{definition}[Uniform continuity]
  A function $f: A \to \R$ is uniformly continuous if
  \[
    \forall \epsilon > 0, \; \exists \delta > 0: \forall x, y \in A, \; \abs{x - y} < \delta \implies \abs{f(x) - f(y)} < \epsilon
  \]
\end{definition}
How is this different from the definition of continuity? The difference is that for continuity,
\[
  \forall \epsilon > 0 \; \forall y \in A, \; \exists \delta > 0: \forall x \in A, \; \abs{x - y} \implies \abs{f(x) - f(y)} < \epsilon
\]
the value of $\delta$ may depend on both $\epsilon$ and the accumulation point $y$, whereas in uniform continuity, the value of $\delta$ only depends on $\epsilon$ and is independent of the choice of $y$. We illustrate the difference in the following two examples.
\begin{eg}
  Let $f: \R \to \R$ be defined by $f(x) = x ^ 2$. Show that $f$ is not uniformly continuous.
\end{eg}
\begin{proof}
  We want to show that
  \[
    \exists \epsilon > 0: \forall \delta > 0, \; \exists x, y \in \R: \abs{x - y} < \delta \land \abs{f(x) - f(y)} \geq \epsilon
  \]
  Let $\epsilon = 1$. Take arbitrary $\delta > 0$. How might we find the right $x, y$? Firstly, we want
  \[
    \abs{x - y} < \delta
  \]
  so we can choose $y = x + \frac{\delta}{2}$, then the difference will be $\frac{\delta}{2} < \delta$. Then we try to expand $f(x) - f(y)$:
  \begin{align*}
    \abs{f(x) - f(y)} &= \abs{x ^ 2 - (x + \frac{\delta}{2}) ^ 2} \\ 
    &= \abs{(x + \frac{\delta}{2}) ^ 2 - x ^ 2} \\ 
    &= \abs{x ^ 2 + \delta x + \frac{\delta ^ 2}{4} - x ^ 2} \\ 
    &= \abs{\delta x + \frac{\delta ^ 2}{4}} \\ 
    &= \delta (x + \frac{\delta}{4})
  \end{align*}
  With this, we can choose $x = \frac{1}{\delta}$ so that the expanded product becomes $1 + $ something positive $> \epsilon$.

  Let $x = \frac{1}{\delta} + \frac{\delta}{2}$, $y = \frac{1}{\delta}$ ($x$ and $y$ are swapped from the above selection for easier manipulation.) Then 
  \[
    \abs{x - y} = \abs{\frac{1}{\delta} + \frac{\delta}{2} - \frac{1}{\delta}} = \frac{\delta}{2} < \delta
  \]
  Also,
  \begin{align*}
    \abs{f(x) - f(y)} &= \abs{(\frac{1}{\delta} + \frac{\delta}{2}) ^ 2 - (\frac{1}{\delta}) ^ 2} \\ 
    &= \abs{\frac{1}{\delta ^ 2} + 1 + \frac{\delta ^ 2}{4} - \frac{1}{\delta ^ 2}} \\ 
    &= \abs{1 + \frac{\delta ^ 2}{4}} \\ 
    &= 1 + \frac{\delta ^ 2}{4} \\ 
    &> 1 \\ 
    &= \epsilon
  \end{align*}
  Since $\delta > 0$ arbitrary, we are done.
\end{proof}
\begin{eg}
  Let $f: [-M, M] \to \R$ be defined by $f(x) = x ^ 2$. Show that $f$ is uniformly continuous.
\end{eg}
\begin{proof}
  We want to show that
  \[
    \forall \epsilon > 0, \; \exists \delta > 0: \forall x, y \in [-M, M], \; \abs{x - y} < \delta \implies \abs{f(x) - f(y)} < \epsilon
  \]
  Take arbitrary $\epsilon > 0$, and take arbitrary $x, y \in [-M, M]$. For $\abs{f(x) - f(y)} < \epsilon$ to hold for this $\epsilon$, we want
  \begin{align*}
    \abs{f(x) - f(y)} < \epsilon &\iff \abs{x ^ 2 - y ^ 2} < \epsilon \\ 
    &\iff \abs{(x + y)(x - y)} < \epsilon \\ 
    &\iff \abs{x + y} \abs{x - y} < \epsilon \\ 
    &\iff \abs{x - y} < \frac{\epsilon}{\abs{x + y}} \leq \frac{\epsilon}{2M}
  \end{align*}
  since $-2M < x + y < 2M$. Then we let $\delta = \frac{\epsilon}{2M}$. We are basically done here because we have just found a $\delta$ that only depends on $\epsilon$, but not $x$ or $y$, but we will proceed with the definition just to be cautious.
  \begin{align*}
    \abs{x - y} < \delta &\implies \abs{x - y} < \frac{\epsilon}{2M} \\ 
    &\iff \abs{x - y} \abs{x + y} < \frac{\epsilon}{2M} \abs{x + y} \\ 
    &\iff \abs{x ^ 2 - y ^ 2} < \frac{\epsilon}{2M} \abs{x + y} \leq \frac{\epsilon}{2M} \cdot 2M = \epsilon
  \end{align*}
\end{proof}
Now, we will show a few (useful?) properties involving uniform continuity.
\begin{prop}
  If $f: A \to \R$ is uniformly continuous, then it is continuous on $A$.
\end{prop}
\begin{proof}
  We want to show that
  \[
    \forall \epsilon > 0 \; \forall x_0 \in A, \; \exists \delta > 0: \forall x \in A, \; \abs{x - x_0} < \delta \implies \abs{f(x) - f(x_0)} < \epsilon
  \]
  Assume $f$ is uniformly continuous. Then we have
  \[
    \forall \epsilon > 0, \; \exists \delta > 0: \forall x, y \in A, \; \abs{x - y} < \delta \implies \abs{f(x) - f(y)} < \epsilon
  \]
  Take arbitrary $\epsilon > 0$ and take arbitrary $x_0 \in A$. By assumption, we know that
  \[
    \exists \delta > 0: \forall x \in A, \; \abs{x - x_0} < \delta \implies \abs{f(x) - f(x_0)} < \epsilon
  \]
  Since $\epsilon > 0$ arbitrary, $f$ is continuous at $x_0$. 
  Since $x_0 \in A$  arbitrary, $f$ is continuous on $A$.
  \begin{remark}
    In this proof, it is important to be precise in what is arbitrary and what is not, and the implications of generalising an arbitrary variable to all cases. 
  \end{remark}
\end{proof}
\begin{prop}[Characterisation of uniform continuity via sequences]
  \label{prop:characterisation-uc}
  Let $f: A \to \R$. $f$ is uniformly continuous \textit{if and only if} for any pair of sequences $(x_n)_{n \geq 1}, (y_n)_{n \geq 1} \in A$ with $x_n - y_n \to 0$, we have $f(x_n) - f(y_n) \to 0$.
\end{prop}
\begin{proof}
  $\mathbb{\implies}$ Suppose $f$ is uniformly continuous. Then 
  \[
    \forall \epsilon > 0, \; \exists \delta > 0: \forall x, y \in A, \; \abs{x - y} < \delta \implies \abs{f(x) - f(y)} < \epsilon
  \]
  Take arbitrary $\epsilon > 0$ and let $\delta > 0$ satisfy the above for this $\epsilon$. Since $x_n - y_n \to 0$, we know that
  \[
    \exists N \in N: n > N \implies \abs{x_n - y_n} < \delta
  \]
  But then
  \[
    \exists N \in N: n > N \implies \abs{f(x_n) - f(y_n)} < \epsilon
  \]
  so $f(x_n) - f(y_n) \to 0$.

  $\mathbb{\impliedby}$. Suppose for any pair of sequences $x_n, y_n \in A$ with $x_n - y_n \to 0$, we have $f(x_n) - f(y_n) \to 0$. Assume that $f$ is not uniformly continuous. Then this means
  \[
    \exists \epsilon > 0: \forall \delta > 0, \; \exists x, y \in A: \abs{x - y} < \delta \land \abs{f(x) - f(y)} \geq \epsilon
  \]
  \begin{intuition}
    We are assuming towards a contradiction. One possible way, which is how this proof will follow, to reach a contradiction is to contradict the initial implication assumption, i.e. $x_n - y_n \to 0$ but $f(x_n) - f(y_n) \nto 0$.
    
    The definition of uniform continuity (or rather, its negation), as it is presented now, has nothing to do with sequences. What do we do? We construct $\delta$ specifically such that it forms a sequence that converges to 0, and so by the sandwich theorem, $x_n - y_n \to 0$. Now we have introduced $n$ into the inequality. But then $\epsilon > 0$, so $f(x_n) - f(y_n) \nto 0$.
  \end{intuition}
  \begin{remark}
    When in doubt, set $\delta = \frac{1}{n}$.
  \end{remark}
  Then we have
  \[
    \forall n \in \N, \; \exists x_n, y_n \in A: \abs{x_n - y_n} < \frac{1}{n} \land \abs{f(x_n) - f(y_n)} \geq \epsilon
  \]
  Since
  \[
    \abs{x_n - y_n} < \frac{1}{n} \ \forall n \in \N
  \]
  we have $x_n - y_n \to 0$. But then for every $n$, 
  \[
    f(x_n) - f(y_n) \geq \epsilon > 0
  \]
  so $f(x_n) - f(y_n) \nto 0$, which contradicts our initial assumption. So $f$ must be uniformly continuous.
\end{proof}
This characterisation is particularly useful when we want to show that some function is \textit{not} uniformly continuous, i.e. we find some pair of sequences $x_n$ and $y_n$ such that $x_n - y_n \to 0$ but $f(x_n) - f(y_n) \nto 0$.
\begin{eg}
  \label{eg:open-not-uc}
  Show that $f: (0, 1) \to \R$ defined by
  \[
    f(x) = \frac{1}{x}
  \]
  is not uniformly continuous.
\end{eg}
\begin{solution}
  Let $x_n = \frac{1}{n}$ and $y_n = \frac{1}{2n}$. We know that
  \[
    x_n - y_n = \frac{1}{2n} \to 0
  \]
  but
  \[
    f(x_n) - f(y_n) = n - 2n = -n \to -\infty
  \]
  so by \Cref{prop:characterisation-uc}, $f$ is not uniformly continuous.
\end{solution}
\begin{theorem}
  \label{thm:cont-on-closed-interval-then-uc}
  Every continuous function $f: [a, b] \to \R$ is uniformly continuous.
\end{theorem}
\begin{proof}
  Suppose $f$ is not uniformly continuous. Then we have
  \[
    \exists \epsilon > 0: \forall \delta > 0, \; \exists x, y \in [a, b]: \abs{x - y} < \delta \land \abs{f(x) - f(y)} \geq \epsilon
  \]
  which implies (again, the same trick)
  \[
    \exists \epsilon > 0: \forall n \geq 1, \; \exists x_n, y_n \in [a, b]: \abs{x_n - y_n} < \frac{1}{n} \land \abs{f(x_n) - f(y_n)} \geq \epsilon
  \]
  Now we have two sequences $x_n$ and $y_n$ to work with. From the above, we get
  \[
    -\frac{1}{n} < x_n - y_n < \frac{1}{n}
  \]
  and so by the sandwich theorem, we get $x_n - y_n \to 0$.

  Since $x_n$ is bounded, by Bolzano-Weierstrass, there exists a convergent subsequence $x_{n_i}$. Suppose $x_{n_i} \to x_0$. Since $a \leq x_n \leq b$ for all $n \geq 1$, we know that the limit $x_0 \in [a, b]$. Since $f$ is continuous on $[a, b]$, it is continuous on every point in the interval, and so it is continuous on $x_0$. By definition of continuity, we have $f(x_{n_i}) \to f(x_0)$.

  Similarly, since $y_n$ is bounded, there exists a convergent subsequence $y_{n_i}$. As $x_n - y_n \to 0$, we get $x_{n_i} - y_{n_i} \to 0$ as well.
  \begin{remark}
    I don't know how sound it is to directly jump to this conclusion, but loosely speaking we have
    \[
      x_n - y_n \to 0 \equiv \lim_{n \to \infty} x_n - y_n = 0
    \]
    Since $n_i \to \infty$ as $i \to \infty$, we have
    \[
      \lim_{i \to \infty} x_{n_i} - y_{n_i} = 0
    \]
  \end{remark}
  Then by the linearity of limits we get $y_{n_i} \to x_0$. By continuity, we have
  \[
    f(y_{n_i}) \to f(x_0)
  \]
  and again, by the linearity of limits we get
  \[
    f(x_{n_i}) - f(y_{n_i}) \to f(x_0) - f(x_0) = 0
  \]
  However, this contradicts the initial assumption that $f(x_{n_i}) - f(y_{n_i}) \nto 0$.
\end{proof}
Observe that in the theorem we have just proved, $f$ is continuous on a \textit{closed} interval $[a, b]$.
\begin{itemize}
  \item If $f$ were continuous on an \textit{open} interval, uniform continuity is not guaranteed (e.g. $f: (0, 1) \to \R$ with $\displaystyle f(x) = \frac{1}{x}$).
  \item If $f$ were bounded (with regards to its outputs) and continuous, uniform continuity is also not guaranteed (e.g. $f(x) = \cos(x ^ 2)$).
\end{itemize} 

% ==================================================================================================

\section{Exercises}
\begin{enumerate}[1.]
  \item Prove the following limits using the $\epsilon - \delta$ definition.
    \begin{enumerate}[a.]
      \item $\displaystyle \lim_{x \to 4} x = 4$
      \item $\displaystyle \lim_{x \to \infty} \sqrt{x} = \infty$
      \item $\displaystyle \lim_{x \to 0} x(\cos x)(x ^ 2 + 1) = 0$
      \item $\displaystyle \lim_{x \to 8} \sqrt[3]{x} = 2$
      \item $\displaystyle \lim_{x \to 1} x ^ 3 - 2x = -1$
    \end{enumerate}
  \item Using the definition of uniform continuity, show that the following functions are not uniformly continuous.
    \begin{enumerate}[a.]
      \item $f: (0, 1] \to \R$ with $\displaystyle f(x) = \frac{1}{x}$
      \item $f(x) = x ^ 2 \ \forall x \in \R$
      \item $f(x) = \cos(x ^ 2) \ \forall x \in \R$
      \end{enumerate}
  \item Using \Cref{prop:characterisation-uc}, show that the following functions are not uniformly continuous.
    \begin{enumerate}[a.]
      \item $f(x) = x ^ 2 \ \forall x \in \R$
      \item $f(x) = \cos(x ^ 2) \ \forall x \in \R$ 
    \end{enumerate}
\end{enumerate}

\begin{proof}
  We want to show that
  \[
    \exists \epsilon > 0: \forall \delta > 0, \; \exists x, y \in (0, 1]: \abs{x - y} < \delta \land \abs{f(x) - f(y)} < \epsilon
  \]
  Let $\epsilon = 1$. Take arbitrary $\delta$ such that $0 < \delta < 1$ (we will deal with $\delta \geq 1$ later). Since we want
  \[
    \abs{x - y} < \delta
  \]
  we choose $y = x + \frac{\delta}{2}$. Then we expand:
  \begin{align*}
    \abs{f(x) - f(y)} \geq \epsilon &= \abs{\frac{1}{x} - \frac{1}{x + \frac{\delta}{2}}} \\ 
    &= \abs{\frac{1}{x} - \frac{2}{2x + \delta}} \\
    &= \abs{\frac{2x + \delta - 2x}{x(2x + \delta)}} \\ 
    &= \frac{\delta}{x(2x + \delta)}
  \end{align*}
  We want this to $\geq \epsilon$:
  \begin{align*}
    \frac{\delta}{x(2x + \delta)} \geq \epsilon &\iff \frac{\delta}{x(2x + \delta)} \geq 1 \\ 
    &\iff \delta \geq x(2x + \delta) \\ 
    &\iff 2x ^ 2 + \delta x - \delta \leq 0 \\ 
    &\iff 2(x + \frac{\delta}{4}) - \delta - \frac{\delta ^ 2}{8} \leq 0 \\
  \end{align*}
  So we choose $x = \frac{\delta}{4}$, $y = \frac{\delta}{4} + \frac{\delta}{2} = \frac{3\delta}{4}$. Since $0 < \delta < 1$, we know that $x, y \in (0, 1]$. Then
  \[
    \abs{x - y} = \abs{\frac{\delta}{4} - \frac{3\delta}{4}} = \abs{-\frac{\delta}{2}} = \frac{\delta}{2} < \delta
  \]
  Also,
  \begin{align*}
    \abs{f(x) - f(y)} &= \abs{\frac{4}{\delta} - \frac{4}{3\delta}} \\ 
    &= \abs{\frac{8\delta}{3\delta}} \\ 
    &= \frac{8}{3} \\ 
    &> 1 \\
    &= \epsilon
  \end{align*}
  so we are done for all $\delta \in (0, 1)$. 

  What about $\delta \geq 1$? We simply take $\epsilon = 1$ (as before), $x = \frac{1}{4}$ and $y = \frac{3}{4}$. Then
  \[
    \abs{x - y} = \abs{\frac{1}{4} - \frac{3}{4}} = \frac{1}{2} < 1 \leq \delta
  \]
  and the other half of the proof follows as above.
\end{proof}